# 📝 「無限マインスイーパー」Web アプリ 要件定義書

## 🎯 1. 目的と概要

- **アプリ名称（仮称）：** 無限マインスイーパー
- **コア目的：** ブラウザ上で進捗が永続化され、無限にプレイ可能なマインスイーパーを提供し、ユーザーの「コツコツとプレイしたい」ニーズに応える。
- **ターゲットユーザー：** 暇つぶしや動画を見ながらプレイしたい人、パズルゲーム愛好者。
- **差別化ポイント：** 進捗状況（盤面、得点、ライフ）がローカルストレージに永続的に保存されること。

---

## 💻 2. 機能要件 (Functional Requirements)

| ID         | カテゴリ       | 要件（機能）                 | 詳細・備考                                                                                                 |
| :--------- | :------------- | :--------------------------- | :--------------------------------------------------------------------------------------------------------- |
| **FR-100** | **盤面**       | **無限に広がる盤面**         | ユーザーの操作に応じて盤面を動的に生成・拡張する。                                                         |
| **FR-101** | **操作**       | **盤面移動**                 | ユーザーはマウスドラッグによって盤面を移動できる。                                                         |
| **FR-102** | **操作**       | **ズーム機能**               | ユーザーはマウスホイールで盤面の表示を拡大/縮小できる。                                                    |
| **FR-103** | **初期状態**   | **ゲーム開始時の状態**       | 盤面は画面全体表示で開始し、最初のセル（および隣接する空のセル）が開かれた状態で始まる。                   |
| **FR-104** | **地雷配置**   | **地雷配置ロジック**         | 地雷の配置確率は**設定ファイル**で指定する。（初期値: **15%**）                                            |
| **FR-105** | **スコア**     | **得点計算**                 | 開いたセル 1 つにつき 1 点加算する。フラグや連鎖による加点はない。                                         |
| **FR-106** | **ライフ**     | **初期ライフ設定**           | 初期ライフ数は**設定ファイル**で指定する。（初期値: **3 個**）                                             |
| **FR-107** | **ライフ**     | **ライフ消費**               | 地雷を踏んだ場合、ライフが 1 つ減る。                                                                      |
| **FR-108** | **ライフ**     | **ライフ回復**               | **設定ファイル**で指定した閾値（初期値: **1000 ポイントごと**）に到達するごとにライフが 1 つ追加される。   |
| **FR-109** | **ゲーム終了** | **ゲームオーバー**           | ライフが 0 になったらゲームオーバー。ゲームオーバー後は、必ず最初から新しいゲームを始める。                |
| **FR-110** | **永続化**     | **進捗の自動保存**           | 現在の盤面情報、得点、残りライフを**ローカルストレージ**に自動で保存する。                                 |
| **FR-111** | **永続化**     | **保存トリガー**             | 地雷を踏んだ時、またはセルの開示時に自動保存を実行する。                                                   |
| **FR-112** | **ハイスコア** | **ハイスコアの記録と更新**   | 過去の最高得点をローカルストレージに記録し、プレイ中に現在の得点が超えた場合、リアルタイムで値を更新する。 |
| **FR-113** | **ハイスコア** | **ハイスコア更新メッセージ** | ハイスコアを更新してゲームオーバーになった場合、メッセージとアイコンを表示する。                           |
| **FR-114** | **UI**         | **主要情報の表示**           | 画面上に「現在の得点」と「残りライフ数」を常時表示する。                                                   |

---

## ⚙️ 3. 非機能要件 (Non-Functional Requirements)

| ID          | カテゴリ           | 要件                 | 詳細・備考                                                                                                    |
| :---------- | :----------------- | :------------------- | :------------------------------------------------------------------------------------------------------------ |
| **NFR-100** | **パフォーマンス** | **応答性**           | 無限盤面の描画、移動、ズーム操作時にストレスのない快適な応答性を確保する。                                    |
| **NFR-101** | **保守性**         | **調整可能な設定**   | **地雷の確率、初期ライフ数、ライフ追加の閾値**の 3 項目を外部の設定ファイルで容易に変更できるように実装する。 |
| **NFR-102** | **セキュリティ**   | **データ整合性**     | ローカルストレージ内のセーブデータについて、簡易的な整合性チェックを行う。                                    |
| **NFR-200** | **技術環境**       | **技術スタック**     | **React**を用いたフロントエンド開発を行う。                                                                   |
| **NFR-201** | **動作環境**       | **対象環境**         | **PC ブラウザ**（モダンブラウザ）での動作に限定する。スマートフォン対応は考慮しない。                         |
| **NFR-300** | **デザイン**       | **モダンなデザイン** | **Tailwind CSS**および**Shadcn/UI**を採用し、視覚的に洗練されたモダンなデザインを実現する。                   |
| **NFR-301** | **UI/UX**          | **操作性**           | 盤面移動やズーム操作がスムーズに行えるよう、快適な操作性を確保する。                                          |
